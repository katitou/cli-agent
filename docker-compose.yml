services:
  code-agent:
    build: .
    environment:
      - GITHUB_TOKEN=${GITHUB_TOKEN}
      - GITHUB_REPO=${GITHUB_REPO}
      - GITHUB_BASE_BRANCH=${GITHUB_BASE_BRANCH:-main}
      - AGENT_LABEL=${AGENT_LABEL:-agent}
      - LLM_PROVIDER=${LLM_PROVIDER:-}
      - LLM_API_KEY=${LLM_API_KEY:-}
      - LLM_MODEL=${LLM_MODEL:-}
      - MAX_ITERATIONS=${MAX_ITERATIONS:-3}
      - POLL_INTERVAL_SECONDS=${POLL_INTERVAL_SECONDS:-300}
    restart: unless-stopped
